<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Course Details - Belajar</title>

		<link
			rel="stylesheet"
			href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />

		<link rel="stylesheet" href="/css/course-details.css" />
	</head>
	<body>
		<header class="header">
			<div class="container">
				<div class="logo">
					<img
						class="d-inline-block align-text-top"
						th:src="@{/img/online-course.png}"
						alt="Logo"
						width="40"
						height="36" />
					DevPro Learning
				</div>
			</div>
		</header>

		<section class="course-details">
			<div class="container">
				<div th:if="${course != null}">
					<div class="course-header">
						<a href="/home">‚Üê Kelas Lainnya</a>
						<h1 class="fw-bold fs-3">
							<span th:text="${course.category}"></span>
						</h1>
						<h2 class="fw-bold fs-4">
							<span th:text="${course.title}"></span>
						</h2>
						<p class="fs-5">by <span th:text="${course.mentor}"></span></p>
						<div class="course-meta fs-5">
							<a
								><span
									class="level badge badge-success"
									th:text="${course.level} + ' Level'"></span
							></a>
							<a
								><span
									class="status badge badge-danger"
									th:text="${course.isPremium}"></span
							></a>
							<a>
								<span
									class="duration badge badge-primary"
									th:text="${course.totalDuration} + ' minutes'"></span>
							</a>
						</div>
						<button
							type="button"
							class="btn btn-primary btn-sm"
							data-toggle="modal"
							data-target="#details-course"
							data-course-title="${course.title}">
							Rp
							<span th:text="${course.price}"></span>
						</button>
					</div>
					<div class="course-description">
						<h3>Tentang Kelas</h3>
						<p th:text="${course.about}"></p>
					</div>
					<div class="course-material">
						<h3>Materi Belajar</h3>
						<ul class="list-group">
							<li
								class="list-group-item"
								th:each="video : ${course.moduleResponses}">
								<span th:text="${video.name}">Video Title</span>
								<button
									class="btn btn-link text-decoration-none"
									data-toggle="modal"
									data-target="#videoModal"
									th:data-video-link="@{${video.content}}">
									Watch
								</button>
							</li>
						</ul>
					</div>
				</div>
				<div th:if="${course == null}">
					<p>No course details available.</p>
				</div>
				<!-- The Module Details Course for Order -->
				<div
					class="modal fade"
					id="details-course"
					data-bs-backdrop="static"
					data-bs-keyboard="false"
					tabindex="-1"
					role="dialog"
					aria-labelledby="courseDetailsModalLabel"
					aria-hidden="true">
					<div class="modal-dialog modal-lg" role="document">
						<div class="modal-content">
							<div class="modal-header d-flex justify-content-center">
								<h5
									class="modal-title fw-bold fs-3"
									id="courseDetailsModalLabel">
									Selangkah lagi menuju
									<span class="fw-bold fs-3" style="color: #4454ec"
										>Kelas Premium</span
									>
								</h5>
							</div>
							<div class="course-card container">
								<h1
									class="fw-bold fs-3"
									id="courseCategory"
									style="color: #7b4bf3">
									<span id="categoryText"></span>
								</h1>
								<h2 class="fw-bold fs-4" id="courseTitle">
									<span id="titleText"></span>
								</h2>
								<p class="fs-5" id="courseMentor">
									by <span id="mentorText"></span>
								</p>
								<div class="course-meta fs-5 mb-3">
									<a id="courseLevel"
										><span
											class="level badge badge-success"
											id="levelText"></span
									></a>
									<a id="courseIsPremium"
										><span
											class="status badge badge-danger"
											id="isPremiumText"></span
									></a>
									<a id="courseDuration">
										<span
											class="duration badge badge-primary"
											id="totalDurationText"></span>
									</a>
								</div>
							</div>
							<div class="modal-footer">
								<button
									type="button"
									class="btn btn-secondary"
									data-dismiss="modal">
									Close
								</button>
								<a href="#" id="orderButton" class="btn btn-primary"
									>Order Now</a
								>
							</div>
						</div>
					</div>
				</div>

				<!-- Video Player Modal -->
				<div
					class="modal fade"
					id="videoModal"
					tabindex="-1"
					role="dialog"
					aria-labelledby="videoModalLabel"
					aria-hidden="true">
					<div class="modal-dialog" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<h5 class="modal-title" id="videoModalLabel">Video Player</h5>
								<button
									type="button"
									class="close"
									data-dismiss="modal"
									aria-label="Close"></button>
							</div>
							<div class="modal-body">
								<iframe
									id="courseVideo"
									width="100%"
									height="315"
									frameborder="0"
									allowfullscreen></iframe>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>

		<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
		<script src="/js/script.js"></script>
	</body>
</html>
